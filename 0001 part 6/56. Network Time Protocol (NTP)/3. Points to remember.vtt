WEBVTT

0
00:00.870 --> 00:08.540
Some points to remember, clients adjust their time from what they hear from an NTP server, NTP server

1
00:08.550 --> 00:10.650
supply time to clients, 

2
00:11.160 --> 00:13.800
they don't adjust their time to the clients

3
00:13.800 --> 00:16.200
the clients adjust their time to the servers.

4
00:16.950 --> 00:23.230
An NTP client server device, such as router 2 in our example, got time from an NTP server.

5
00:23.250 --> 00:28.290
So it was synchronizing to router 3 and then provided time to router 1.

6
00:28.860 --> 00:33.130
NTP needs what is called a trusted clock source.

7
00:33.840 --> 00:40.050
Ideally, you would get this from a lower stratum device, such as a domain controller in your network

8
00:40.290 --> 00:43.450
or an NTP server on the Internet. In the lab

9
00:43.470 --> 00:47.940
We didn't have an NTP server that we were connecting to

10
00:48.420 --> 00:56.610
so I configured router 3 as an NTP master so that it trusted its own internal clock as the clock

11
00:56.610 --> 00:57.180
source.

12
00:57.810 --> 01:00.390
Once again, in the real world, that's not ideal.

13
01:00.630 --> 01:03.840
You should get your time from a better time source.

14
01:04.650 --> 01:11.400
A stratum level or stratum as some of you may pronounce it, defines the quality of the time

15
01:11.400 --> 01:15.630
source the lower the number, the better the time source.

16
01:16.720 --> 01:23.800
A stratum is a device that has an atomic clock or a GPS clock or radio clock.

17
01:24.340 --> 01:27.630
In other words, it's a very good reference for time.

18
01:28.540 --> 01:35.710
NTP is quite simple to configure once again to set up a server or stratum device, you would use the

19
01:35.710 --> 01:42.400
command NTP master to specify a loopback interface, which is better than using a physical interface

20
01:42.400 --> 01:44.170
because loopbacks don't go down.

21
01:44.650 --> 01:49.780
Use the NTP source loopback zero command to specify a server.

22
01:51.340 --> 02:01.810
Use the command NTP server and specify the server so the server command makes router 2 a client, the master

23
02:01.810 --> 02:06.070
command means that router 3 is the trusted source of time.

24
02:06.640 --> 02:14.920
Router 2 however, is also a server providing time to router 1 because router 1 is pointing

25
02:14.920 --> 02:16.570
to router 2 for its time.

26
02:17.860 --> 02:24.100
So we didn't configure router 2 as a server, it was simply configured as a client

27
02:26.760 --> 02:31.530
but it started providing time to router 1 when router 1 queried it.

28
02:32.720 --> 02:38.090
It can also use its own clock as a backup if it loses connection to router 3.